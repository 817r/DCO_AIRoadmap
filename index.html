<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REFORGER COMMAND CENTER</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { background-color: #1a1c14; color: #a4b494; font-family: 'JetBrains Mono', monospace; overflow: hidden; }
        .sidebar { transition: transform 0.3s ease-in-out; z-index: 40; }
        @media (max-width: 768px) {
            .sidebar { position: fixed; transform: translateX(-100%); height: 100%; }
            .sidebar.open { transform: translateX(0); }
        }
        .nav-link.active { border-left: 4px solid #facc15; background: rgba(250, 204, 21, 0.1); color: white; }
        .volume-slider {
            -webkit-appearance: none;
            width: 80px;
            height: 2px;
            background: #3d4432;
            outline: none;
            cursor: pointer;
        }
        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 10px;
            height: 10px;
            background: #facc15;
            border-radius: 0; /* Kotak agar terkesan militer */
            cursor: pointer;
        }
        
        .audio-control {
            font-size: 10px;
            letter-spacing: 1px;
            cursor: pointer;
            border: 1px solid #3d4432;
            padding: 4px 8px;
            background: rgba(0,0,0,0.5);
            transition: all 0.2s;
        }
        .audio-control:hover { border-color: #facc15; color: #facc15; }
        .nav-link {
        font-size: 16px !important; /* Diperbesar dari 14px */
        letter-spacing: 1px;
        }
        .campaign-bar-bg {
            background: rgba(61, 68, 50, 0.3);
            border: 1px solid #3d4432;
            height: 8px;
            width: 150px;
            border-radius: 2px;
            overflow: hidden;
        }
        .campaign-bar-fill {
            background: #facc15;
            height: 100%;
            box-shadow: 0 0 10px rgba(250, 204, 21, 0.4);
            transition: width 1s ease-out;
        }
    </style>
</head>
<body class="flex flex-col h-screen">
    <audio id="bgm">
        <source id="audio-source" type="audio/mpeg">
    </audio>

    <header class="h-20 border-b-2 border-yellow-500/50 bg-black flex items-center justify-between px-4 z-50">
        <div class="flex items-center gap-3 border-l border-zinc-800 pl-3">
            <div class="flex items-center bg-yellow-400 p-1">
                <img src="images\dragon_company.png" alt="UNIT_LOGO" class="h-12 w-auto object-contain">
                <span class="text-[12px] font-black text-black px-2 uppercase truncate hidden sm:block">
                    Dragon Company AI
                </span>
            </div>
        </div>

        <div class="campaign-stats flex items-center gap-4 border-l border-[#3d4432] pl-4 h-8">
            <div class="flex flex-col items-end">
                <span class="text-[15px] font-bold text-zinc-500 uppercase tracking-widest">Overall_Campaign_Progress</span>
                <div class="flex items-center gap-3">
                    <div class="campaign-bar-bg">
                        <div class="campaign-bar-fill" style="width: 0%;"></div> </div>
                    <span class="text-[15px] font-black text-[#facc15]">0%</span>
                </div>
            </div>
        </div>
        
        <div class="flex items-center gap-3">
            <a href="https://reforger.armaplatform.com/workshop/5EDAAE0D3CC60D6B-DCO_AIReforger" target="_blank" 
            class="hidden sm:flex items-center gap-2 px-3 py-1 border border-yellow-500/30 bg-yellow-500/5 text-yellow-500 text-[15px] font-bold hover:bg-yellow-500 hover:text-black transition-all group">
                <span class="w-2 h-2 bg-yellow-500 rounded-full animate-pulse group-hover:bg-black"></span>
                [ACCESS_WORKSHOP_MOD]
            </a>

            <div class="flex items-center gap-2 border-l border-zinc-800 pl-3">
                    <div class="flex items-center gap-4 px-4 py-2 bg-black/50 border-b border-yellow-500/20">
                        <div class="flex items-center gap-2">
                            <div id="music-info" class="text-[13px] opacity-50 hidden md:block truncate max-w-[150px]">
                                NOT_PLAYING
                            </div>
                            <div id="music-toggle" class="audio-control" onclick="toggleAudio()">
                                [MUSIC_OFF]
                            </div>
                            <div class="audio-control" onclick="playNext()">
                                [NEXT >>]
                            </div>
                        </div>

                        <div class="flex items-center gap-2 border-l border-zinc-800 pl-4">
                            <span class="text-[9px] text-zinc-500 uppercase">Vol</span>
                            <input type="range" id="volume-control" class="volume-slider" min="0" max="1" step="0.01" value="0.3">
                            <span id="vol-percent" class="text-[9px] text-yellow-500 font-bold w-6">30%</span>
                        </div>
                    </div>
                <div class="text-[15px] font-bold bg-yellow-400 text-black px-2 py-1 uppercase truncate">
                    ARMA REFORGER
                </div>
            </div>
        </div>
    </header>

    <div class="flex flex-1 overflow-hidden relative">
        <aside id="sidebar" class="sidebar w-64 bg-[#0d0e0a] border-r-2 border-army-green p-4 flex flex-col gap-2">
            <p class="text-[10px] opacity-30 mb-4">NAV_LOGS</p>
            <a href="home.html" target="content-frame" class="nav-link p-3 text-sm font-bold active" onclick="closeMenu()">[00] OVERVIEW</a>
            <a href="about.html" target="content-frame" class="nav-link p-3 text-sm font-bold" onclick="closeMenu()">[01] TEAM COMPOSITION</a>
            <a href="roadmap.html" target="content-frame" class="nav-link p-3 text-sm font-bold" onclick="closeMenu()">[02] MILESTONES</a>
            <a href="features.html" target="content-frame" class="nav-link p-3 text-sm font-bold" onclick="closeMenu()">
                [03] DETAILED_FEATURES
            </a>
            <a href="devlog.html" target="content-frame" class="nav-link p-3 text-sm font-bold" onclick="closeMenu()">
                [04] DEVLOG
            </a>
            <a href="media.html" target="content-frame" class="nav-link p-3 text-sm font-bold" onclick="closeMenu()">
                [05] MEDIA
            </a>
            <a href="recruitment.html" target="content-frame" class="nav-link p-3 text-sm font-bold" onclick="closeMenu()">
                [06] RECRUITMENT
            </a>
            <a href="donate.html" target="content-frame" class="nav-link p-3 text-sm font-bold" onclick="closeMenu()">
                [07] DONATION_SUPPORT
            </a>
            <div class="mt-auto p-3 border border-yellow-900/30 text-[9px] opacity-40">SYSTEM: STABLE</div>
        </aside>

        <main class="flex-1 relative bg-[#0d0e0a]">
            <iframe name="content-frame" src="home.html" class="w-full h-full border-none"></iframe>
        </main>
    </div>

    <script>
        function toggleMenu() { document.getElementById('sidebar').classList.toggle('open'); }
        function closeMenu() { document.getElementById('sidebar').classList.remove('open'); }
        
        const links = document.querySelectorAll('.nav-link');
        links.forEach(l => l.addEventListener('click', () => {
            links.forEach(link => link.classList.remove('active'));
            l.classList.add('active');
        }));

        // 1. Tentukan daftar file musik yang ada di folder Anda
        const musicFolder = "music/"; // Nama folder musik Anda
        const playlist = [
            "The Victory.mp3",
            "Los Del Rio - Macarena.mp3",
            "bad boys what you gonna do.mp3"
        ];
        
        let currentTrackIndex = 0;
        const audio = document.getElementById('bgm');
        const source = document.getElementById('audio-source');
        const musicBtn = document.getElementById('music-toggle');
        const musicInfo = document.getElementById('music-info');

        // 2. Fungsi untuk memuat lagu
        function loadTrack(index) {
            source.src = musicFolder + playlist[index];
            audio.load();
            musicInfo.innerText = "TRACK: " + playlist[index].toUpperCase();
        }

        const volSlider = document.getElementById('volume-control');
        const volPercent = document.getElementById('vol-percent');

        // Set volume awal ke 30%
        audio.volume = 0.3;

        // Event listener untuk perubahan volume
        volSlider.addEventListener('input', (e) => {
            const value = e.target.value;
            audio.volume = value;
            volPercent.innerText = Math.round(value * 100) + "%";
            
            // Visual feedback jika mute
            if (value == 0) {
                volPercent.style.color = "#ef4444";
            } else {
                volPercent.style.color = "#facc15";
            }
        });

        // 3. Fungsi Play/Pause
        function toggleAudio() {
            if (audio.paused) {
                audio.play().catch(e => console.log("User interaction required"));
                musicBtn.innerText = "[MUSIC_ON]";
                musicBtn.style.color = "#facc15";
                musicInfo.classList.remove('hidden');
            } else {
                audio.pause();
                musicBtn.innerText = "[MUSIC_OFF]";
                musicBtn.style.color = "";
            }
        }

        // 4. Fungsi lagu berikutnya
        function playNext() {
            currentTrackIndex++;
            if (currentTrackIndex >= playlist.length) {
                currentTrackIndex = 0; // Kembali ke awal jika playlist habis
            }
            loadTrack(currentTrackIndex);
            audio.play();
            musicBtn.innerText = "[MUSIC_ON]";
            musicBtn.style.color = "#facc15";
        }

        // 5. Event listener: jika lagu selesai, otomatis putar lagu berikutnya
        audio.addEventListener('ended', function() {
            playNext();
        });

        // Load lagu pertama saat startup
        loadTrack(currentTrackIndex);
    </script>
</body>
</html>